import{r as e,j as s,c as t,f as a,u as i,a as n}from"./index-C5loLNT9.js";import{p as r,q as l,r as o,i as d}from"./index-CbBQEXOZ.js";import{a as c,b as h}from"./useInfiniteScroll-B7HEHKJI.js";import{C as m}from"./Container-B6ePsMKV.js";import{S as x}from"./Skeleton-CvGoc7fe.js";import{u as p,P as u}from"./Product-CTLeT94v.js";import{P as f}from"./PageTitle-CcMrt_P4.js";import{c as j}from"./createSvgIcon-Bci2w0Kx.js";import{c as g}from"./createSimplePaletteValueFilter-BwloS0Cl.js";import{a as v,g as b,s as w,j as y,b as N,c as k,m as S,n as C,l as $,e as z,u as P}from"./DefaultPropsProvider-DdaabJBK.js";import{u as F}from"./useFormControl-ZDm9dFKD.js";import{B}from"./ButtonBase-CMk9oDBr.js";import{b as M,c as O,d as I}from"./index-vpg3BdSk.js";import{E as R}from"./Empty-btAV4PV0.js";import{_ as D}from"./lodash-B0Q_iIZZ.js";import{C as A}from"./CircularProgress-CWxIx464.js";function T(e){return v("PrivateSwitchBase",e)}b("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const q=w(B)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:s})=>"start"===e&&"small"!==s.size,style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:s})=>"end"===e&&"small"!==s.size,style:{marginRight:-12}}]}),E=w("input",{shouldForwardProp:y})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),L=e.forwardRef((function(e,a){const{autoFocus:i,checked:n,checkedIcon:r,className:l,defaultChecked:o,disabled:d,disableFocusRipple:c=!1,edge:h=!1,icon:m,id:x,inputProps:u,inputRef:f,name:j,onBlur:g,onChange:v,onFocus:b,readOnly:w,required:y=!1,tabIndex:S,type:C,value:$,...z}=e,[P,B]=p({controlled:n,default:Boolean(o),name:"SwitchBase",state:"checked"}),M=F();let O=d;M&&void 0===O&&(O=M.disabled);const I="checkbox"===C||"radio"===C,R={...e,checked:P,disabled:O,disableFocusRipple:c,edge:h},D=(e=>{const{classes:s,checked:t,disabled:a,edge:i}=e,n={root:["root",t&&"checked",a&&"disabled",i&&`edge${N(i)}`],input:["input"]};return k(n,T,s)})(R);return s.jsxs(q,{component:"span",className:t(D.root,l),centerRipple:!0,focusRipple:!c,disabled:O,tabIndex:null,role:void 0,onFocus:e=>{b&&b(e),M&&M.onFocus&&M.onFocus(e)},onBlur:e=>{g&&g(e),M&&M.onBlur&&M.onBlur(e)},ownerState:R,ref:a,...z,children:[s.jsx(E,{autoFocus:i,checked:n,defaultChecked:o,className:D.input,disabled:O,id:I?x:void 0,name:j,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const s=e.target.checked;B(s),v&&v(e,s)},readOnly:w,ref:f,required:y,ownerState:R,tabIndex:S,type:C,..."checkbox"===C&&void 0===$?{}:{value:$},...u}),P?r:m]})}));function V(e){return v("MuiSwitch",e)}const X=b("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),G=w("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:t}=e;return[s.root,t.edge&&s[`edge${N(t.edge)}`],s[`size${N(t.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${X.thumb}`]:{width:16,height:16},[`& .${X.switchBase}`]:{padding:4,[`&.${X.checked}`]:{transform:"translateX(16px)"}}}}]}),J=w(L,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,s)=>{const{ownerState:t}=e;return[s.switchBase,{[`& .${X.input}`]:s.input},"default"!==t.color&&s[`color${N(t.color)}`]]}})(S((({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${"light"===e.palette.mode?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${X.checked}`]:{transform:"translateX(20px)"},[`&.${X.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${X.checked} + .${X.track}`]:{opacity:.5},[`&.${X.disabled} + .${X.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:""+("light"===e.palette.mode?.12:.2)},[`& .${X.input}`]:{left:"-100%",width:"300%"}}))),S((({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:C(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(g(["light"])).map((([s])=>({props:{color:s},style:{[`&.${X.checked}`]:{color:(e.vars||e).palette[s].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[s].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:C(e.palette[s].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${X.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${s}DisabledColor`]:`${"light"===e.palette.mode?$(e.palette[s].main,.62):z(e.palette[s].main,.55)}`}},[`&.${X.checked} + .${X.track}`]:{backgroundColor:(e.vars||e).palette[s].main}}})))]})))),Q=w("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,s)=>s.track})(S((({theme:e})=>({height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${"light"===e.palette.mode?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:""+("light"===e.palette.mode?.38:.3)})))),U=w("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,s)=>s.thumb})(S((({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})))),H=e.forwardRef((function(e,a){const i=P({props:e,name:"MuiSwitch"}),{className:n,color:r="primary",edge:l=!1,size:o="medium",sx:d,...c}=i,h={...i,color:r,edge:l,size:o},m=(e=>{const{classes:s,edge:t,size:a,color:i,checked:n,disabled:r}=e,l={root:["root",t&&`edge${N(t)}`,`size${N(a)}`],switchBase:["switchBase",`color${N(i)}`,n&&"checked",r&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},o=k(l,V,s);return{...s,...o}})(h),x=s.jsx(U,{className:m.thumb,ownerState:h});return s.jsxs(G,{className:t(m.root,n),sx:d,ownerState:h,children:[s.jsx(J,{type:"checkbox",icon:x,checkedIcon:x,ref:a,ownerState:h,...c,classes:{...m,root:m.switchBase}}),s.jsx(Q,{className:m.track,ownerState:h})]})})),K=j(s.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");function W(){return s.jsxs("div",{className:"flex flex-col gap-5 border p-2",children:[s.jsx(x,{variant:"rectangular",animation:"wave",className:"!w-full",height:258}),s.jsxs("div",{children:[s.jsx(x,{animation:"wave"}),s.jsx(x,{animation:"wave",width:"60%"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(x,{animation:"wave",width:50}),s.jsx(x,{animation:"wave",width:50})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex justify-between pl-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(x,{animation:"wave",width:20}),s.jsx(x,{animation:"wave",width:90})]}),s.jsx(x,{animation:"wave",width:40})]}),s.jsx(x,{animation:"wave",width:90})]})]})}function Y({className:t}){const[i,n]=a(),[l,o]=e.useState(i.get("s")||"");return s.jsxs("form",{onSubmit:function(e){e.preventDefault(),i.set("s",l),n(i)},className:`relative flex items-center ${t}`,children:[s.jsx("input",{type:"text",value:l,onChange:e=>o(e.target.value),placeholder:"products",className:"h-full w-full rounded-md border p-5 pl-12 font-medium shadow shadow-gray-300 outline-none"}),s.jsx("button",{className:"absolute left-0 h-full p-3",type:"submit",children:s.jsx(K,{})}),(l.length>0||i.has("s"))&&s.jsx("button",{className:"absolute right-0 p-3",onClick:function(e){e.preventDefault(),o(""),i.delete("s"),n(i)},children:s.jsx(r,{})})]})}function Z({setIsOpenFilterModal:e,setIsOpenSortModal:t}){const[i]=a();return s.jsxs("div",{className:"flex justify-between gap-5 text-sm md:hidden",children:[s.jsxs("button",{onClick:()=>t((e=>!e)),className:"flex h-12 basis-1/2 items-center justify-center gap-2 rounded-md bg-gray-50 font-bold uppercase shadow shadow-gray-400",children:[s.jsx("span",{children:s.jsx(l,{size:23})}),s.jsx("span",{children:i.get("sort")||"default"})]}),s.jsxs("button",{onClick:()=>e((e=>!e)),className:"flex h-12 basis-1/2 items-center justify-center gap-2 rounded-md bg-gray-50 font-bold uppercase shadow shadow-gray-400",children:[s.jsx("span",{children:s.jsx(o,{size:23})}),s.jsx("span",{children:"filter"})]})]})}function _({title:e,className:t,filterParam:i}){const[n,r]=a();return s.jsxs("div",{className:`flex h-16 w-full items-center justify-between rounded-md bg-white px-5 font-semibold max-md:h-24 ${t}`,children:[s.jsx("div",{className:"max-md:text-xl max-vxs:text-lg",children:s.jsx("span",{children:e})}),s.jsx("div",{className:"max-md:scale-125",children:s.jsx(H,{color:"primary",defaultChecked:n.has(i),onChange:e=>{e.target.checked?(n.set(i,!0),r(n)):(n.delete(i),r(n))}})})]})}function ee(){const[e,t]=a(),i=e.get("sort");function n(s){e.set("sort",s),t(e)}return s.jsxs("div",{className:"col-span-3 hidden h-16 rounded-md border bg-white pl-3 pr-2 text-sm shadow shadow-gray-300 md:flex md:items-center md:gap-5",children:[s.jsxs("div",{className:"flex items-center gap-1 font-medium",children:[s.jsx(l,{size:23})," :"]}),s.jsxs("div",{className:"flex items-center gap-5",children:[s.jsx("button",{onClick:()=>n("rate"),children:s.jsx("span",{className:"flex h-16 items-center px-1 font-semibold "+("rate"!==i&&i?"":"border-y-[3px] border-violet-500"),children:"most rate"})}),s.jsx("button",{onClick:()=>n("most-view"),children:s.jsx("span",{className:`flex h-16 items-center px-1 font-semibold ${"most-view"===i&&"border-y-[3px] border-violet-500"}`,children:"most view"})}),s.jsx("button",{onClick:()=>n("cheapest"),children:s.jsx("span",{className:`flex h-16 items-center px-1 font-semibold ${"cheapest"===i&&"border-y-[3px] border-violet-500"}`,children:"cheapest"})}),s.jsx("button",{onClick:()=>n("most-expensive"),children:s.jsx("span",{className:`flex h-16 items-center px-1 font-semibold ${"most-expensive"===i&&"border-y-[3px] border-violet-500"}`,children:"most expensive"})}),s.jsx("button",{onClick:()=>n("fastest-shipping"),children:s.jsx("span",{className:`flex h-16 items-center px-1 font-semibold ${"fastest-shipping"===i&&"border-y-[3px] border-violet-500"}`,children:"Fastest shipping"})}),s.jsx("button",{onClick:()=>n("newest"),children:s.jsx("span",{className:`flex h-16 items-center px-1 font-semibold ${"newest"===i&&"border-y-[3px] border-violet-500"}`,children:"newest"})})]})]})}function se(){return s.jsxs("div",{className:"hidden md:flex md:flex-col md:gap-5",children:[s.jsx(_,{title:"Pre-sale products",className:"border text-xl shadow shadow-gray-300 lg:hidden",filterParam:"presale"}),s.jsx(_,{title:"Available products",className:"border text-xl shadow shadow-gray-300 lg:hidden",filterParam:"available-products"}),s.jsx(_,{title:"Discount products",className:"border text-xl shadow shadow-gray-300 lg:hidden",filterParam:"discount-products"})]})}function te({isOpenFilterModal:e,setIsOpenFilterModal:t}){return s.jsxs("div",{className:`fixed inset-0 z-[999] bg-white font-medium transition-all md:hidden ${e?"visible opacity-100":"invisible opacity-0"} `,children:[s.jsx("div",{className:"flex items-center justify-between bg-gray-100 p-3",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{className:"rounded-full bg-violet-500 p-1 text-white",onClick:()=>t(!1),children:s.jsx(M,{size:30,color:""})}),s.jsx("span",{className:"text-lg font-semibold capitalize",children:"filters"})]})}),s.jsxs("div",{className:"divide-y",children:[s.jsx(_,{filterParam:"presale",title:"Pre-sale products"}),s.jsx(_,{filterParam:"available-products",title:"Available products"}),s.jsx(_,{filterParam:"discount-products",title:"Discount products"})]})]})}function ae({className:e,onClick:t}){return s.jsx("div",{onClick:t,className:`fixed inset-0 z-10 h-dvh bg-black/40 transition-all duration-200 md:hidden ${e}`})}function ie({isOpenSortModal:e,setIsOpenSortModal:t}){const[i,n]=a(),r=i.get("sort")||"default";function l(e){i.set("sort",e),n(i),t(!1)}return s.jsxs("div",{className:"fixed inset-x-0 bottom-0 z-20 flex flex-col transition-transform md:hidden "+(e?"translate-y-0":"translate-y-full"),children:[s.jsxs("div",{className:"flex items-center justify-between rounded-t-2xl bg-gray-100 p-3",children:[s.jsx("div",{className:"flex items-center",children:s.jsx("span",{className:"text-xl capitalize",children:"Sort By"})}),s.jsx("div",{children:s.jsx("button",{className:"p-2",onClick:()=>t(!1),children:s.jsx(O,{size:24})})})]}),s.jsxs("div",{className:"flex w-full flex-col divide-y-2 bg-white text-start font-medium",children:[s.jsxs("button",{onClick:()=>l("rate"),className:"flex items-center justify-between p-5 text-start "+("rate"===r?"text-violet-500":""),children:[s.jsx("span",{children:"rate"}),"rate"===r&&s.jsx("span",{children:s.jsx(I,{size:24})})]}),s.jsxs("button",{onClick:()=>l("most-view"),className:"flex items-center justify-between p-5 text-start "+("most-view"===r?"text-violet-500":""),children:[s.jsx("span",{children:"most view"}),"most-view"===r&&s.jsx("span",{children:s.jsx(I,{size:24})})]}),s.jsxs("button",{onClick:()=>l("cheapest"),className:"flex items-center justify-between p-5 text-start "+("cheapest"===r?"text-violet-500":""),children:[s.jsx("span",{children:"cheapest"}),"cheapest"===r&&s.jsx("span",{children:s.jsx(I,{size:24})})]}),s.jsxs("button",{onClick:()=>l("most-expensive"),className:"flex items-center justify-between p-5 text-start "+("most-expensive"===r?"text-violet-500":""),children:[s.jsx("span",{children:"most expensive"}),"most-expensive"===r&&s.jsx("span",{children:s.jsx(I,{size:24})})]}),s.jsxs("button",{onClick:()=>l("fastest-shipping"),className:"flex items-center justify-between p-5 text-start "+("fastest-shipping"===r?"text-violet-500":""),children:[s.jsx("span",{children:"Fastest shipping"}),"fastest-shipping"===r&&s.jsx("span",{children:s.jsx(I,{size:24})})]}),s.jsxs("button",{onClick:()=>l("newest"),className:"flex items-center justify-between p-5 text-start "+("newest"===r?"text-violet-500":""),children:[s.jsx("span",{children:"newest"}),"newest"===r&&s.jsx("span",{children:s.jsx(I,{size:24})})]})]})]})}function ne({pages:t,isLoading:a,fetchNextPage:r=()=>{},hasNextPage:l,isFetchingNextPage:o}){const p=i(),[j,g]=e.useState(!1),[v,b]=e.useState(!1),{ref:w,inView:y}=c();if(h({fetchNextPage:r,inView:y}),a)return s.jsxs(m,{children:[s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2.5 xs:flex-row xs:justify-between",children:[s.jsx(x,{width:224,height:44,animation:"wave"}),s.jsx(x,{width:91,height:24,animation:"wave"})]}),s.jsxs("div",{className:"mt-5 flex flex-col gap-5",children:[s.jsxs("div",{className:"flex flex-col gap-5 lg:hidden",children:[s.jsx(x,{animation:"wave",variant:"rounded",height:64}),s.jsx(x,{animation:"wave",variant:"rounded",height:64}),s.jsx(x,{animation:"wave",variant:"rounded",height:64}),s.jsx(x,{animation:"wave",variant:"rounded",height:64}),s.jsx(x,{animation:"wave",variant:"rounded",height:64})]}),s.jsxs("div",{className:"flex justify-between gap-5 md:hidden",children:[s.jsx(x,{animation:"wave",variant:"rounded",height:48,className:"basis-1/2"}),s.jsx(x,{animation:"wave",variant:"rounded",height:48,className:"basis-1/2"})]})]}),s.jsxs("div",{className:"flex justify-between gap-5",children:[s.jsxs("div",{className:"hidden lg:flex lg:basis-1/4 lg:flex-col lg:gap-5",children:[s.jsx(x,{variant:"rounded",animation:"wave",className:"!w-full",height:64}),s.jsx(x,{variant:"rounded",animation:"wave",className:"!w-full",height:64}),s.jsx(x,{variant:"rounded",animation:"wave",className:"!w-full",height:64}),s.jsx(x,{variant:"rounded",animation:"wave",className:"!w-full",height:64})]}),s.jsxs("div",{className:"grid w-full grid-cols-1 gap-5 450:grid-cols-2 md:flex-grow md:basis-3/4 md:grid-cols-3",children:[s.jsx("div",{className:"!col-span-3 hidden lg:block",children:s.jsx(x,{animation:"wave",variant:"rounded",height:64})}),s.jsx(W,{}),s.jsx(W,{}),s.jsx(W,{}),s.jsx(W,{}),s.jsx(W,{}),s.jsx(W,{})]})]})]});const N=D.reduce(t,((e,s)=>e+s.length),0),k=D.reduce(t,((e,s)=>e+s.length),0);return s.jsxs(m,{className:"relative",children:[s.jsx(f,{category:p.category,length:N}),s.jsxs("div",{className:"mt-5 flex flex-col gap-5",children:[s.jsx(s.Fragment,{children:s.jsx(Y,{className:"h-12 md:h-16 lg:hidden"})}),s.jsx(s.Fragment,{children:s.jsx(Z,{setIsOpenFilterModal:b,setIsOpenSortModal:g})}),s.jsx(s.Fragment,{children:s.jsx(se,{})})]}),s.jsxs("div",{className:"flex flex-col justify-between gap-5 lg:flex-row lg:justify-between",children:[s.jsxs("section",{className:"hidden lg:flex lg:basis-1/4 lg:flex-col lg:gap-5",children:[s.jsx(s.Fragment,{children:s.jsx(Y,{className:"h-16"})}),s.jsxs(s.Fragment,{children:[s.jsx(_,{className:"border text-sm shadow shadow-gray-300",filterParam:"presale",title:"Pre-sale products"}),s.jsx(_,{className:"border text-sm shadow shadow-gray-300",filterParam:"available-products",title:"Available products"}),s.jsx(_,{className:"border text-sm shadow shadow-gray-300",filterParam:"discount-products",title:"Discount products"})]})]}),s.jsx(s.Fragment,{children:s.jsxs("section",{className:"grid w-full grid-cols-1 gap-5 450:grid-cols-2 md:flex-grow md:basis-3/4 md:grid-cols-3",children:[s.jsx(s.Fragment,{children:s.jsx(ee,{})}),s.jsxs(s.Fragment,{children:[t.map((e=>e.map((e=>s.jsx(u,{product:e},e.id))))),!k&&s.jsx(R,{title:"Nothing found",description:"we couldn'nt find what you searched for. try search again"})]}),s.jsx(s.Fragment,{children:l&&s.jsx("div",{className:"col-span-1 flex w-full justify-center 450:col-span-2 md:col-span-3",ref:w,children:s.jsxs("button",{onClick:()=>r(),className:"flex items-center gap-1 rounded-full bg-violet-500 px-4 py-3 text-lg font-semibold capitalize text-white transition-all hover:opacity-90",children:[s.jsx("span",{children:"load more"}),o?s.jsx(A,{size:18,color:"inherit"}):s.jsx(d,{})]})})}),!l&&t[0].length>0&&s.jsx("p",{className:"col-span-1 flex w-full justify-center font-medium 450:col-span-2 md:col-span-3",children:"All products were displayed"})]})})]}),n.createPortal(s.jsxs(s.Fragment,{children:[s.jsx(te,{isOpenFilterModal:v,setIsOpenFilterModal:b}),s.jsx(ae,{onClick:()=>g(!1),className:j?"visible opacity-100":"invisible opacity-0"})]}),document.querySelector("#root")),s.jsx(ie,{isOpenSortModal:j,setIsOpenSortModal:g})]})}export{ne as P};
