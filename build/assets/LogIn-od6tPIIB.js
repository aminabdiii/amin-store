import{b as e,r as s,j as t,L as a}from"./index-C5loLNT9.js";import{L as r}from"./Logo-Cpfqa5Rv.js";import{u as o}from"./index.esm-DwqCqS0x.js";import{u as i}from"./useMutation-oZc7gSQE.js";import{l as n}from"./signInOrLoginApi-qEE4pTSn.js";import{S as l}from"./sweetalert2.esm.all-CrxasXBw.js";import{B as d}from"./Button-B9qqcjJ9.js";import{L as c}from"./Login-DNYCnAhy.js";import"./supabase-ClnIyvqL.js";import"./DefaultPropsProvider-DdaabJBK.js";import"./createSimplePaletteValueFilter-BwloS0Cl.js";import"./ButtonBase-CMk9oDBr.js";import"./emotion-react.browser.esm-B7H-_Xiz.js";import"./TransitionGroupContext-oF5BF2eg.js";import"./createSvgIcon-Bci2w0Kx.js";function m(){var m,u,f,p;const{register:x,handleSubmit:g,formState:{errors:j},reset:h}=o(),w=e(),[v,b]=s.useState(!1),{login:N,isPending:y}=function(){const{mutate:e,isPending:s}=i({mutationFn:n,onSuccess:()=>{l.fire({icon:"success",title:"logged in successfully",confirmButtonText:"thats great!"})},onError:e=>{l.fire({title:"something went wrong",text:e.message,icon:"error"})}});return{login:e,isPending:s}}();return t.jsxs("section",{className:"flex min-h-dvh w-full flex-col items-center gap-8 bg-gray-100 p-5 xs:justify-center",children:[t.jsx("div",{className:"scale-125",children:t.jsx(r,{})}),t.jsx("form",{onSubmit:g((function(e){const{email:s,password:t}=e;N({email:s,password:t},{onSettled:()=>h(),onSuccess:()=>w("/home")})})),className:"relative z-10 mx-auto w-full max-w-sm rounded-lg bg-white p-5 shadow-md shadow-[#3f4bff]",children:t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsx("div",{className:"text-center",children:t.jsx("h2",{className:"text-3xl font-black text-[#3f4bff]",children:"Log In"})}),t.jsxs("div",{className:"flex w-full flex-col gap-4",children:[t.jsxs("div",{children:[t.jsx("input",{type:"text",className:"w-full rounded border p-2 px-3 outline-none focus:ring-2 focus:ring-[#3f4bff]",placeholder:"Email address",...x("email",{required:"email field is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address!"}})}),(null==(m=j.email)?void 0:m.message)&&t.jsx("span",{className:"block px-3 py-1 text-xs font-medium text-red-400",children:null==(u=j.email)?void 0:u.message})]}),t.jsxs("div",{children:[t.jsx("input",{type:v?"text":"password",className:"w-full rounded border p-2 px-3 outline-none focus:ring-2 focus:ring-[#3f4bff]",placeholder:"Password",...x("password",{required:"password field is required",pattern:{value:/^[A-Za-z0-9@]{8,}$$/,message:"please enter a valid password!"}})}),(null==(f=j.password)?void 0:f.message)&&t.jsx("span",{className:"block px-3 py-1 text-xs font-medium text-red-400",children:null==(p=j.password)?void 0:p.message})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[t.jsxs("div",{className:"flex gap-1",children:[t.jsx("label",{htmlFor:"show-password",className:"cursor-pointer",children:"show Password"}),t.jsx("input",{id:"show-password",name:"showPassword",type:"checkbox",value:v,onChange:()=>b((e=>!e)),className:"cursor-pointer accent-violet-500"})]}),t.jsx("div",{children:t.jsx(a,{to:"/sign-in",children:"Doesn't have an account?"})})]}),t.jsx("button",{children:t.jsx(d,{component:"div",variant:"contained",startIcon:t.jsx(c,{}),disabled:y,className:"w-full rounded-lg !bg-[#3f4bff] py-1 !font-montserrat !font-semibold !text-white active:!bg-[#3f4bff]"+(y?"!cursor-wait opacity-50":""),children:"Log In"})})]})})]})}export{m as default};
